<?xml version="1.0" encoding="utf-8"?>
<template_modifications>
  <modification type="public" template="PAGE_CONTAINER" modification_key="approvalQueuePlusPageContainerReverse" description="Changes the links to the approval queue to reverse the default sort order" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[{{ link('approval-queue') }}]]></find>
    <replace><![CDATA[<xf:if is="$xf.options.approvalQueuePlusDefaultOrder == 'asc'">
	{{ link('approval-queue') }}
<xf:else />
	{{ link('approval-queue', null, {'order': 'content_date', 'direction': $xf.options.approvalQueuePlusDefaultOrder }) }}
</xf:if>
]]></replace>
  </modification>
  <modification type="public" template="approval_item_user" modification_key="approvalQueuePlusApprovalItemUser" description="Add extra information to moderated user queue" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<xf:set var="$messageHtml"><xf:trim>

	<xf:macro template="custom_fields_macros" name="custom_fields_view"
		arg-type="users" arg-group="{{ null }}"
		arg-set="{$user.Profile.custom_fields}"
		arg-additionalFilters="{{ ['registration'] }}" />]]></find>
    <replace><![CDATA[<xf:set var="$messageHtml"><xf:trim>

	<xf:macro template="approval_queue_plus_user_macros" name="user_info" arg-user="{$user}" />
]]></replace>
  </modification>
  <modification type="public" template="approval_queue.less" modification_key="approvalQueuePlusCss" description="Add custom CSS to approval queue" execution_order="10" enabled="1" action="preg_replace">
    <find><![CDATA[#^(.*)$#sU]]></find>
    <replace><![CDATA[$0

.approvalQueuePlus
{
	.pairs
	{
		margin-bottom: 5px;
	}
}]]></replace>
  </modification>
</template_modifications>
